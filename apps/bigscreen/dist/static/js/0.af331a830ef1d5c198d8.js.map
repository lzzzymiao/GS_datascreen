{"version":3,"sources":["webpack:///src/components/SCmap/mapcity.vue","webpack:///./src/components/SCmap/mapcity.vue?aad2","webpack:///./src/components/SCmap/mapcity.vue"],"names":["mapcity","data","mapChart","currentCity","city_data","yData","barData","list_data","data_map","geoCoordMap","mounted","this","getdata","methods","_this","$axios","get","then","res","console","log","initChartMapCity","catch","openAlert","handleData","i","length","cp","push","name","value","concat","_i","resdata","_this2","scmapchart","$echarts","init","document","getElementById","city","registerMap","data_all","features","arr","forEach","item","index","properties","option","tooltip","trigger","formatter","textStyle","color","fontSize","visualMap","show","min","max","left","bottom","text","realtime","calculable","inRange","geo","map","roam","layoutSize","itemStyle","align","normal","areaColor","borderColor","shadowColor","shadowBlur","emphasis","series","type","coordinateSystem","symbolSize","label","top","right","center","mapType","setOption","window","addEventListener","resize","on","param","alert","id","msg","$message","message","destroyed","onresize","SCmap_mapcity","render","_h","$createElement","_c","_self","staticClass","staticStyle","height","attrs","directives","rawName","expression","background-color","width","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/0.af331a830ef1d5c198d8.js","sourcesContent":["<template>\n  <div>\n    <div  id=\"mapCityBox\" class=\"map_style\"  style=\"height: 300px;\">\n      <div v-loading='true' style=\"background-color: rgba(255,255,255,0);height: 100%;width: 100%\" ></div>\n    </div>\n  </div>\n</template>\n\n<script>\n\timport echarts from \"echarts\";\n\texport default {\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\tmapChart: null,\n\t\t\t\tcurrentCity: \"\",\n\t\t\t\tcity_data: {},\n\t\t\t\tyData: [],\n\t\t\t\tbarData: [],\n\t\t\t\tlist_data: [], // 地市名字\n\t\t\t\tdata_map: [],  // 地图数据\n\t\t\t\tgeoCoordMap: {}\n\t\t\t};\n\t\t},\n\t\tmounted() {\n\t\t\tthis.getdata();\n\t\t},\n\n    methods: {\n\n      //获取地图数据\n      getdata() {\n        this.$axios.get(\"../../../../static/hn.json\", {}).then(res => {\n          console.log(res.data);\n          // 绘制地图\n          this.initChartMapCity(res.data);\n        }).catch(res => {\n          console.log(res);\n          this.openAlert('getdata() - 获取地图数据失败 ');\n        });\n      },\n\n      //echarts自适应\n\t\t\thandleData(data, geoCoordMap) {\n\t\t\t\t//地图名字标记\n\t\t\t\tthis.list_data=[];\n\t\t\t\tfor(let i = 0; i < geoCoordMap.length; i++) {\n\t\t\t\t\tlet cp=geoCoordMap[i].cp;\n\t\t\t\t\tif (cp) {\n\t\t\t\t\t\tthis.list_data.push({\n\t\t\t\t\t\t\tname: geoCoordMap[i].name,\n\t\t\t\t\t\t\tvalue: geoCoordMap[i].cp.concat(geoCoordMap[i].value)\n\t\t\t\t\t\t});\n\t\t\t\t\t} else{\n\t\t\t\t\t\tthis.list_data.push({\n\t\t\t\t\t\t\tname: geoCoordMap[i].name,\n\t\t\t\t\t\t\tvalue: geoCoordMap[i].value\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tconsole.log(geoCoordMap);\n\t\t\t\tconsole.log(this.list_data);\n\n\t\t\t\tthis.barData=[];\n\t\t\t\tthis.yData=[];\n\n\t\t\t\t//往左右两图填充数据\n\t\t\t\tfor(let i = 0; i < 10; i++) {\n\t\t\t\t\tthis.barData.push(data[i]);\n\t\t\t\t\tthis.yData.push(i + data[i].name);\n\t\t\t\t}\n\t\t\t},\n\n\n      // 绘制地图\n\t\t\tinitChartMapCity(resdata) {\n\t\t\t\t//获取地图数据\n\t\t\t\tconst scmapchart = this.$echarts.init( document.getElementById(\"mapCityBox\") );\n        this.mapChart = scmapchart;\n\t\t\t\tlet city = resdata;\n        this.$echarts.registerMap(\"lol\", city); //注册地图\n\t\t\t\tlet data_all = resdata.features;\n\n\t\t\t\tthis.data_map=[];\n\t\t\t\tlet arr=[];\n\t\t\t\tdata_all.forEach((item, index) => { //勾选对应的item\n\t\t\t\t\tthis.data_map.push(item.properties);\n\t\t\t\t\tarr.push({\n\t\t\t\t\t\tname:item.properties.name,\n\t\t\t\t\t\tcp:item.properties.cp\n\t\t\t\t\t});\n\t\t\t\t});\n\n\t\t\t\tthis.geoCoordMap=arr;\n//\t\t\t\tconsole.log(this.geoCoordMap)\n\t\t\t\tthis.handleData(this.data_map, this.geoCoordMap);\n\n\t\t\t\tlet option = {\n\n          tooltip: {\n            trigger: \"item\",\n            formatter: \"{b}: 人口密度{c}万人 <br />\"  +\n              \"{b}: 人口密度{c}万人 <br />\"  +\n              \"{b}: 人口密度{c}万人 <br />\" ,\n          },\n\n          textStyle: {\n            color: \"#008fff\",\n            fontSize: 10\n          },\n\n          // 视觉映射\n          visualMap: [\n            {\n              show: true,\n              min: 0,\n              max: 5000,\n              left: '10',\n              bottom:\"auto\",        //组件离容器下侧的距离,'20%'\n              text: ['高', '低'], // 文本，默认为数值文本\n              realtime:true,        //拖拽时，是否实时更新\n              calculable: true,   // 显示左侧手柄\n              // seriesIndex: [1],\n              inRange: {\n                color: ['#00B6FF', '#002E5F','#002E5F', '#00FFFF'] // 拖动bar和Titus对应的颜色\n              },\n              textStyle: {\n                color: \"#ffffff\",\n                fontSize: 12\n              }\n            },\n          ],\n\n          //地图渲染\n          geo: [{\n            show: true,\n            map: \"lol\",\n            // roam: 'scale',\n            roam: false,\n            layoutSize: 500,                             //地图的大小,支持相对于屏幕宽高的百分比或者绝对的像素大小。\n            itemStyle: {\n              textStyle: {\n                color: \"rgb(0,79,255)\",\n                fontSize: 11,\n                align: 'center'\n              },\n              normal: {\n                show:true,                          //是否在普通状态下显示标签。\n                textStyle:{\n                  color: \"rgb(0,79,255)\",\n                  fontSize: 11,\n                  align: 'center'\n                },              //普通状态下的标签文本样式。\n                areaColor: \"transparent\",\n                borderColor: \"transparent\",\n                shadowColor: \"transparent\",\n                shadowBlur: 30\n              },\n              emphasis: {\n                areaColor: \"#00fbff\"\n              }\n            }\n          }],\n\n          series: [\n\n            {\n              name: \"light\",\n              type: \"scatter\",\n              coordinateSystem: \"geo\",\n              data: this.list_data,\n              symbolSize: 1,\n              // roam: 'scale' ,\n              roam: false,\n              label: {\n                normal: {\n                  formatter: \"{b}\",\n                  fontSize: 10,\n                  show: true\n                },\n                emphasis: {\n                  show: true\n                }\n              },\n              itemStyle: {\n                normal: {\n                  color: \"#0089ff\",\n                  // areaColor: \"transparent\",\n                  // borderColor: \"transparent\",\n                  label: {\n                    show: true,\n                    textStyle: {\n                      color: \"rgb(255,255,255)\",\n                      fontSize: 10,\n                      align: 'center'\n                    }\n                  }\n                }\n              },\n              top:'0%',\n              left:'20%',\n              right:'10%',\n              bottom:'0%',\n            },\n\n            {\n              name:'lol',\n              type: \"map\",\n            \tcenter: \"center\",\n\n            \tdata: this.data_map,\n            \tlabel: {\n            \t\temphasis: {\n            \t\t\tshow: false\n            \t\t},\n            \t\tnormal: {\n            \t\t\tshow: false\n            \t\t}\n            \t},\n            \tmapType: \"lol\",\n            \troam: 'scale' ,\n              top:'0%',\n              left:'20%',\n              right:'10%',\n              bottom:'0%',\n\n            },\n          ],\n\n\t\t\t\t};\n\n        scmapchart.setOption(option, true);\n\n        // 宽度自适应\n        window.addEventListener(\"resize\", () => {\n          scmapchart.resize();\n        });\n\n        scmapchart.on(\"click\", (param) => { //点击地图获取数据\n\t\t\t\t\talert('你点了：' + param.data.name);\n\t\t\t\t\tlet id = param.data.id;\n\t\t\t\t\tthis.$axios.get(`../../../../static/${id}.json`, {\n\t\t\t\t\t}).then(res => {\n\t\t\t\t\t\tthis.initChartMapCity(res.data);\n\t\t\t\t\t}).catch(res => {\n\t\t\t\t\t\tconsole.log(res);\n            this.openAlert('click - 获取地图数据失败');\n\t\t\t\t\t});\n\t\t\t\t});\n\n\t\t\t},\n\n      // 错误提示\n      openAlert(msg){\n        this.$message({\n          message: msg,\n          type: 'warning'\n        });\n      }\n\n\t\t},\n\n\t\tdestroyed() {\n\t\t\twindow.onresize = null;\n\t\t}\n\t};\n</script>\n\n<style scoped>\n\n  /deep/ .el-loading-mask {\n    position: absolute;\n    z-index: 2000;\n    background-color: rgba(255, 255, 255, 0) !important;\n    margin: 0;\n    top: 0;\n    right: 0;\n    bottom: 0;\n    left: 0;\n    -webkit-transition: opacity .3s;\n    transition: opacity .3s;\n  }\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/SCmap/mapcity.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"map_style\",staticStyle:{\"height\":\"300px\"},attrs:{\"id\":\"mapCityBox\"}},[_c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(true),expression:\"true\"}],staticStyle:{\"background-color\":\"rgba(255,255,255,0)\",\"height\":\"100%\",\"width\":\"100%\"}})])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-4f06226a\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/SCmap/mapcity.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-4f06226a\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./mapcity.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./mapcity.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./mapcity.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-4f06226a\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./mapcity.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-4f06226a\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/SCmap/mapcity.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}